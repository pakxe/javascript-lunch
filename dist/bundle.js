(()=>{"use strict";var e={};function t({id:e,callback:t,options:n,className:a,required:r,cover:s}){const c=function({options:e,id:t,className:n,required:a,cover:r}){const s=document.createElement("select");if(s.id=t,s.className=n,s.required=a,r){const e=document.createElement("option");e.value="",e.textContent=r,s.appendChild(e)}return function(e,t){t.forEach((t=>{const n=document.createElement("option");n.value=t,n.textContent=t,e.appendChild(n)}))}(s,e),s}({options:n,id:e,className:a,required:r,cover:s});return t?(c.addEventListener("change",(()=>{const e=c.value;t(e)})),c):c}e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var a=n.getElementsByTagName("script");a.length&&(t=a[a.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.p,e.p,e.p,e.p,e.p,e.p,e.p;const n={한식:"korean",중식:"chinese",일식:"japanese",양식:"western",아시안:"asian",기타:"etc"},a=[5,10,15,20,30],r=["전체","한식","중식","일식","양식","아시안","기타"],s=["이름순","거리순"],c=function({name:e,id:t,type:n,required:a}){const r=document.createElement("input");return r.name=e,r.id=t,r.type=n,a&&r.setAttribute("required",""),r},o=function({className:e,htmlFor:t,description:n="",name:a,innerElement:r}){const s=document.createElement("div");s.className=e;const c=document.createElement("label");if(c.htmlFor=t,c.textContent=a,s.append(c,r),!n)return s;const o=document.createElement("span");return o.textContent=n,o.className="help-text text-caption",s.append(n),s},i=function({name:e,id:t,cols:n,rows:a}){const r=document.createElement("textarea");return r.name=e,r.id=t,r.cols=n,r.rows=a,r},m=e=>document.querySelector(e),l={create(e,t){const n=document.createElement("div");n.className=e;const a=function(){const e=document.createElement("div");return e.className="modal-backdrop",e}();return n.append(a,t),n},createContainer(){const e=document.createElement("div");return e.className="modal-container",e},remove(e){m(`.${e}`).remove()}},u=function({type:e,name:t,callback:n,className:a,eventType:r}){const s=function({type:e,className:t,name:n}){const a=document.createElement("button");return a.type=e||"button",a.className=t,a.textContent=n,a}({type:e,className:a,name:t});return n?(s.addEventListener(r,(e=>{e.preventDefault(),n()})),s):s},d=["category","name","walkingTime","description","link"],p=function(e){const r=function(){const e=l.createContainer(),r=document.createElement("h2");r.className="modal-title text-title",r.textContent="새로운 음식점";const s=document.createElement("form"),m=t({id:"category",options:Object.keys(n),className:"",required:!0,cover:"선택해 주세요"}),d=t({id:"walkingTime",options:a,className:"",required:!0,cover:"선택해 주세요"}),p=o({className:"form-item form-item--required",htmlFor:"category",name:"카테고리",innerElement:m}),g=o({className:"form-item form-item--required",htmlFor:"name",name:"이름",innerElement:c({name:"name",id:"name",type:"text",required:!0})}),f=o({className:"form-item form-item--required",htmlFor:"distance",name:"거리(도보 이동 시간)",innerElement:d}),h=o({className:"form-item",htmlFor:"description",description:"메뉴 등 추가 정보를 입력해 주세요.",name:"설명",innerElement:i({name:"description",id:"description",cols:30,rows:5})}),N=o({className:"form-item",htmlFor:"link",description:"매장 정보를 확인할 수 있는 링크를 입력해 주세요.",name:"참고 링크",innerElement:c({name:"link",id:"link",type:"text"})}),y=document.createElement("div");y.className="button-container";const b=u({className:"button button--secondary text-caption",eventType:"click",name:"취소하기",callback:()=>l.remove("modal--open")}),E=u({className:"button button--primary text-caption",type:"submit",eventType:"submit",name:"추가하기"});return y.append(b,E),s.append(p,g,f,h,N,y),e.append(r,s),e}(),s=r.querySelector("form");return s.addEventListener("submit",(t=>{t.preventDefault();const n=d.reduce(((e,t)=>(e[t]=s.querySelector(`#${t}`).value,e)),{});try{e.add(n),N.updateRestaurantList(e.getRestaurants()),l.remove("modal--open")}catch(e){!function(e){const t=document.createElement("div");t.classList.add("toast"),t.textContent=e,t.setAttribute("aria-live","assertive"),m("body").appendChild(t),setTimeout((()=>t.remove()),2500)}(e.message)}})),r},g={logo(){const e=document.createElement("h1");return e.className="gnb__title text-title",e.textContent="점심 뭐 먹지",e},add(e){const t=document.createElement("button");t.type="button",t.className="gnb__button",t.setAttribute("aria-label","음식점 추가");const n=document.createElement("img");return n.src="./add-button.png",n.alt="음식점 추가",t.appendChild(n),f.add(t,e),t}},f={add(e,t){e.addEventListener("click",(()=>{const e=p(t),n=l.create("modal--open",e);document.body.append(n)}))}};class h{constructor(e=[]){this.restaurants=[...e],this.filterRestaurants=[...e]}add(e){if(this.restaurants.some((({name:t})=>t===e.name)))throw new Error("이미 있는 식당은 다시 추가할 수 없어요.");this.restaurants.push(e),localStorage.setItem("restaurants",JSON.stringify(this.restaurants))}getRestaurants(){return[...this.restaurants]}getfilterRestaurants(){return[...this.filterRestaurants]}sortByAscendingName(){const e=this.filterRestaurants.sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0));return this.restaurants.sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0)),[...e]}sortByAscendingWalkingTime(){const e=this.filterRestaurants.sort(((e,t)=>{const n=Number(e.walkingTime),a=Number(t.walkingTime);return n<a?-1:n>a?1:e.name<t.name?-1:e.name>t.name?1:0}));return this.restaurants.sort(((e,t)=>{const n=Number(e.walkingTime),a=Number(t.walkingTime);return n<a?-1:n>a?1:e.name<t.name?-1:e.name>t.name?1:0})),e}udateFilterRestaurants(){this.filterRestaurants=[...this.restaurants]}filteredRestaurants(e){return this.filterRestaurants=[...this.restaurants].filter((t=>t.category===e)),[...this.filterRestaurants]}}const N={start(){const e=JSON.parse(localStorage.getItem("restaurants"))||[],t=new h(e);this.setMainPage(t)},setMainPage(e){document.body.insertAdjacentElement("afterbegin",function({className:e,left:t,right:n,restaurantManager:a}){const r=document.createElement("header");r.className=e;const s=g[t](),c=g[n](a);return r.append(s,c),r}({className:"gnb",left:"logo",right:"add",restaurantManager:e}));const n=document.querySelector(".restaurant-filter-container");n.appendChild(t({name:"categoty",id:"category-filter",options:r,className:"restaurant-filter",callback:t=>{if("전체"===t)return e.udateFilterRestaurants(),this.updateRestaurantList(e.getRestaurants());this.updateRestaurantList(e.filteredRestaurants(t))}})),n.appendChild(t({name:"sorting",id:"sorting-filter",className:"restaurant-filter",options:s,callback:t=>{"이름순"===t&&this.updateRestaurantList(e.sortByAscendingName()),"거리순"===t&&this.updateRestaurantList(e.sortByAscendingWalkingTime())}})),this.updateRestaurantList(e.sortByAscendingName())},updateRestaurantList(e){const t=document.querySelector(".restaurant-list-container");t.replaceChildren();const a=document.createElement("ul");a.className="restaurant-list",e.map((e=>{const t=document.createElement("li");t.className="restaurant";const r=function(e){return console.log(e),function({category:e,name:t,walkingTime:a,description:r=""}){const s=document.createElement("div");s.className="restaurant__category",s.append(function(e){const t=document.createElement("img");return t.src=`./category-${n[e]}.png`,t.alt=e,t.className="category-icon",t}(e));const c=new DocumentFragment;return c.append(s,function({name:e,walkingTime:t,description:n=""}){const a=document.createElement("div");a.className="restaurant__info";const r=document.createElement("h3");r.className="restaurant__name text-subtitle",r.textContent=e;const s=document.createElement("span");s.className="restaurant__distance text-body",s.textContent=`캠퍼스부터 ${t}분 내`;const c=document.createElement("p");return c.className="restaurant__description text-body",c.textContent=n,a.append(r),a.append(s),a.append(c),a}({name:t,walkingTime:a,description:r})),c}(e)}(e);t.append(r),a.append(t)})),t.appendChild(a)}};N.start()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFZLG9DQUNsQzZKLEVBQXNCcEosWUFBY2tDLEVBQ3BDK0csRUFBUTNHLE9BQU80RyxHQUNmRCxFQUFRM0csT0FBTzZHLEdBQ2ZGLEVBQVEzRyxPQUFPOEcsR0FDUkgsQ0FDWCxDQW5CaUNJLENBQWMsQ0FBRXhILE9BQU1zRixjQUFhakYsaUJBQ3pENkcsQ0FDWCxDQVYyQixDQUFPbkUsRUFFbEMsQ0RpRGdDLENBQXFCQSxHQUN6QzZELEVBQVNuRyxPQUFPb0csR0FDaEJILEVBQWVqRyxPQUFPbUcsRUFBUyxJQUVuQ0osRUFBd0JwSSxZQUFZc0ksRUFDeEMsR0U3Q0p6RCxFQUFJMkMsTyIsInNvdXJjZXMiOlsid2VicGFjazovL0B3b293YWNvdXJzZS9qYXZhc2NyaXB0LWx1bmNoL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL0B3b293YWNvdXJzZS9qYXZhc2NyaXB0LWx1bmNoLy4vc3JjL2NvbXBvbmVudC9kcm9wRG93bi5qcyIsIndlYnBhY2s6Ly9Ad29vd2Fjb3Vyc2UvamF2YXNjcmlwdC1sdW5jaC93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL0B3b293YWNvdXJzZS9qYXZhc2NyaXB0LWx1bmNoL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL0B3b293YWNvdXJzZS9qYXZhc2NyaXB0LWx1bmNoLy4vc3JjL2ltYWdlcy9jYXRlZ29yeS1rb3JlYW4ucG5nIiwid2VicGFjazovL0B3b293YWNvdXJzZS9qYXZhc2NyaXB0LWx1bmNoLy4vc3JjL2ltYWdlcy9jYXRlZ29yeS1ldGMucG5nIiwid2VicGFjazovL0B3b293YWNvdXJzZS9qYXZhc2NyaXB0LWx1bmNoLy4vc3JjL2ltYWdlcy9jYXRlZ29yeS1qYXBhbmVzZS5wbmciLCJ3ZWJwYWNrOi8vQHdvb3dhY291cnNlL2phdmFzY3JpcHQtbHVuY2gvLi9zcmMvaW1hZ2VzL2NhdGVnb3J5LWNoaW5lc2UucG5nIiwid2VicGFjazovL0B3b293YWNvdXJzZS9qYXZhc2NyaXB0LWx1bmNoLy4vc3JjL2ltYWdlcy9jYXRlZ29yeS1hc2lhbi5wbmciLCJ3ZWJwYWNrOi8vQHdvb3dhY291cnNlL2phdmFzY3JpcHQtbHVuY2gvLi9zcmMvaW1hZ2VzL2NhdGVnb3J5LXdlc3Rlcm4ucG5nIiwid2VicGFjazovL0B3b293YWNvdXJzZS9qYXZhc2NyaXB0LWx1bmNoLy4vc3JjL2ltYWdlcy9hZGQtYnV0dG9uLnBuZyIsIndlYnBhY2s6Ly9Ad29vd2Fjb3Vyc2UvamF2YXNjcmlwdC1sdW5jaC8uL3NyYy9jb25zdGFudC9jb25zLmpzIiwid2VicGFjazovL0B3b293YWNvdXJzZS9qYXZhc2NyaXB0LWx1bmNoLy4vc3JjL2NvbXBvbmVudC9pbnB1dC5qcyIsIndlYnBhY2s6Ly9Ad29vd2Fjb3Vyc2UvamF2YXNjcmlwdC1sdW5jaC8uL3NyYy9jb21wb25lbnQvbGFiZWxXcmFwcGVyLmpzIiwid2VicGFjazovL0B3b293YWNvdXJzZS9qYXZhc2NyaXB0LWx1bmNoLy4vc3JjL2NvbXBvbmVudC90ZXh0QXJlYS5qcyIsIndlYnBhY2s6Ly9Ad29vd2Fjb3Vyc2UvamF2YXNjcmlwdC1sdW5jaC8uL3NyYy91dGlscy9zZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9Ad29vd2Fjb3Vyc2UvamF2YXNjcmlwdC1sdW5jaC8uL3NyYy9jb21wb25lbnQvbW9kYWwuanMiLCJ3ZWJwYWNrOi8vQHdvb3dhY291cnNlL2phdmFzY3JpcHQtbHVuY2gvLi9zcmMvY29tcG9uZW50L2J1dHRvbi5qcyIsIndlYnBhY2s6Ly9Ad29vd2Fjb3Vyc2UvamF2YXNjcmlwdC1sdW5jaC8uL3NyYy93ZWIvbW9kYWwvYWRkUmVzdGF1cmFudE1vZGFsLmpzIiwid2VicGFjazovL0B3b293YWNvdXJzZS9qYXZhc2NyaXB0LWx1bmNoLy4vc3JjL2NvbXBvbmVudC90b2FzdC90b2FzdC5qcyIsIndlYnBhY2s6Ly9Ad29vd2Fjb3Vyc2UvamF2YXNjcmlwdC1sdW5jaC8uL3NyYy9jb21wb25lbnQvaGVhZGVyLmpzIiwid2VicGFjazovL0B3b293YWNvdXJzZS9qYXZhc2NyaXB0LWx1bmNoLy4vc3JjL2RvbWFpbi9SZXN0YXVyYW50TWFuYWdlci50cyIsIndlYnBhY2s6Ly9Ad29vd2Fjb3Vyc2UvamF2YXNjcmlwdC1sdW5jaC8uL3NyYy93ZWIvY29udHJvbC5qcyIsIndlYnBhY2s6Ly9Ad29vd2Fjb3Vyc2UvamF2YXNjcmlwdC1sdW5jaC8uL3NyYy9jb21wb25lbnQvcmVzdGF1cmFudENhcmQuanMiLCJ3ZWJwYWNrOi8vQHdvb3dhY291cnNlL2phdmFzY3JpcHQtbHVuY2gvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsImltcG9ydCB7ICQgfSBmcm9tICcuLi91dGlscy9zZWxlY3Rvci5qcyc7XG5mdW5jdGlvbiBjcmVhdGVEcm9wRG93bih7IGlkLCBjYWxsYmFjaywgb3B0aW9ucywgY2xhc3NOYW1lLCByZXF1aXJlZCwgY292ZXIgfSkge1xuICAgIGNvbnN0IGRyb3Bkb3duID0gcmVuZGVyKHsgb3B0aW9ucywgaWQsIGNsYXNzTmFtZSwgcmVxdWlyZWQsIGNvdmVyIH0pO1xuICAgIGlmICghY2FsbGJhY2spXG4gICAgICAgIHJldHVybiBkcm9wZG93bjtcbiAgICBkcm9wZG93bi5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gZHJvcGRvd24udmFsdWU7IC8vIOyEoO2DneuQnCDsmLXshZgg6rCSXG4gICAgICAgIGNhbGxiYWNrKHNlbGVjdGVkT3B0aW9uKTsgLy8g7L2c67CxIO2VqOyImCDtmLjstpxcbiAgICB9KTtcbiAgICByZXR1cm4gZHJvcGRvd247XG59XG4vLyBSRUZBQ1RPUjogY3JlYXRlRWxlbWVudOuhnCDsiJjsoJXtlbTslbztlZzri6QuXG5mdW5jdGlvbiByZW5kZXIoeyBvcHRpb25zLCBpZCwgY2xhc3NOYW1lLCByZXF1aXJlZCwgY292ZXIgfSkge1xuICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICAgIHNlbGVjdC5pZCA9IGlkO1xuICAgIHNlbGVjdC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgc2VsZWN0LnJlcXVpcmVkID0gcmVxdWlyZWQ7XG4gICAgaWYgKCEhY292ZXIpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9ICcnO1xuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBjb3ZlcjtcbiAgICAgICAgc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgfVxuICAgIGNyZWF0ZVNlbGVjdE9wdGlvbnMoc2VsZWN0LCBvcHRpb25zKTtcbiAgICByZXR1cm4gc2VsZWN0O1xufVxuZnVuY3Rpb24gY3JlYXRlU2VsZWN0T3B0aW9ucyhzZWxlY3QsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zLmZvckVhY2goKG9wdGlvblZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udmFsdWUgPSBvcHRpb25WYWx1ZTtcbiAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gb3B0aW9uVmFsdWU7XG4gICAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgIH0pO1xufVxuZXhwb3J0IHsgY3JlYXRlRHJvcERvd24gfTtcbiIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiY2F0ZWdvcnkta29yZWFuLnBuZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJjYXRlZ29yeS1ldGMucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImNhdGVnb3J5LWphcGFuZXNlLnBuZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJjYXRlZ29yeS1jaGluZXNlLnBuZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJjYXRlZ29yeS1hc2lhbi5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiY2F0ZWdvcnktd2VzdGVybi5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYWRkLWJ1dHRvbi5wbmdcIjsiLCJleHBvcnQgY29uc3QgQVBQX05BTUUgPSAn7KCQ7IusIOutkCDrqLnsp4AnO1xuZXhwb3J0IGNvbnN0IEtPUkVBTl9DQVRFR09SWSA9IHtcbiAgICDtlZzsi506ICdrb3JlYW4nLFxuICAgIOykkeyLnTogJ2NoaW5lc2UnLFxuICAgIOydvOyLnTogJ2phcGFuZXNlJyxcbiAgICDslpHsi506ICd3ZXN0ZXJuJyxcbiAgICDslYTsi5zslYg6ICdhc2lhbicsXG4gICAg6riw7YOAOiAnZXRjJyxcbn07XG5leHBvcnQgY29uc3QgV0FMS0lOR19USU1FID0gWzUsIDEwLCAxNSwgMjAsIDMwXTtcbmV4cG9ydCBjb25zdCBjYXRlZ29yeUZpbHRlckxpc3QgPSBbXG4gICAgJ+yghOyytCcsXG4gICAgJ+2VnOyLnScsXG4gICAgJ+ykkeyLnScsXG4gICAgJ+ydvOyLnScsXG4gICAgJ+yWkeyLnScsXG4gICAgJ+yVhOyLnOyViCcsXG4gICAgJ+q4sO2DgCcsXG5dO1xuZXhwb3J0IGNvbnN0IHNvcnRpbmdGaWx0ZXJMc2l0ID0gWyfsnbTrpoTsiJwnLCAn6rGw66as7IicJ107XG4iLCJmdW5jdGlvbiBjcmVhdGVJbnB1dCh7IG5hbWUsIGlkLCB0eXBlLCByZXF1aXJlZCB9KSB7XG4gICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGlucHV0Lm5hbWUgPSBuYW1lO1xuICAgIGlucHV0LmlkID0gaWQ7XG4gICAgaW5wdXQudHlwZSA9IHR5cGU7XG4gICAgaWYgKHJlcXVpcmVkKVxuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3JlcXVpcmVkJywgJycpO1xuICAgIHJldHVybiBpbnB1dDtcbn1cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUlucHV0O1xuIiwiZnVuY3Rpb24gY3JlYXRlbGFiZWxXcmFwcGVyKHsgY2xhc3NOYW1lLCBodG1sRm9yLCBkZXNjcmlwdGlvbiA9ICcnLCBuYW1lLCBpbm5lckVsZW1lbnQsIH0pIHtcbiAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgd3JhcHBlci5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGxhYmVsLmh0bWxGb3IgPSBodG1sRm9yO1xuICAgIGxhYmVsLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB3cmFwcGVyLmFwcGVuZChsYWJlbCwgaW5uZXJFbGVtZW50KTtcbiAgICBpZiAoIWRlc2NyaXB0aW9uKVxuICAgICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICBjb25zdCBkZXNjcmlwdGlvblRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBkZXNjcmlwdGlvblRhZy50ZXh0Q29udGVudCA9IGRlc2NyaXB0aW9uO1xuICAgIGRlc2NyaXB0aW9uVGFnLmNsYXNzTmFtZSA9ICdoZWxwLXRleHQgdGV4dC1jYXB0aW9uJztcbiAgICB3cmFwcGVyLmFwcGVuZChkZXNjcmlwdGlvbik7XG4gICAgcmV0dXJuIHdyYXBwZXI7XG59XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVsYWJlbFdyYXBwZXI7XG4iLCJmdW5jdGlvbiBjcmVhdGVUZXh0QXJlYSh7IG5hbWUsIGlkLCBjb2xzLCByb3dzIH0pIHtcbiAgICBjb25zdCB0ZXh0QXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgdGV4dEFyZWEubmFtZSA9IG5hbWU7XG4gICAgdGV4dEFyZWEuaWQgPSBpZDtcbiAgICB0ZXh0QXJlYS5jb2xzID0gY29scztcbiAgICB0ZXh0QXJlYS5yb3dzID0gcm93cztcbiAgICByZXR1cm4gdGV4dEFyZWE7XG59XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVUZXh0QXJlYTtcbiIsImNvbnN0ICQgPSAodGFyZ2V0KSA9PiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG5leHBvcnQgeyAkIH07XG4iLCJpbXBvcnQgeyAkIH0gZnJvbSAnLi4vdXRpbHMvc2VsZWN0b3InO1xuY29uc3QgbW9kYWwgPSB7XG4gICAgY3JlYXRlKGNsYXNzTmFtZSwgY29udGVudCkge1xuICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBtb2RhbC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgICAgIGNvbnN0IGJhY2tkcm9wID0gY3JlYXRlQmFja2Ryb3AoKTtcbiAgICAgICAgbW9kYWwuYXBwZW5kKGJhY2tkcm9wLCBjb250ZW50KTtcbiAgICAgICAgcmV0dXJuIG1vZGFsO1xuICAgIH0sXG4gICAgY3JlYXRlQ29udGFpbmVyKCkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9ICdtb2RhbC1jb250YWluZXInO1xuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH0sXG4gICAgcmVtb3ZlKGNsYXNzTmFtZSkge1xuICAgICAgICAkKGAuJHtjbGFzc05hbWV9YCkucmVtb3ZlKCk7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYWNrZHJvcCgpIHtcbiAgICBjb25zdCBiYWNrZHJvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGJhY2tkcm9wLmNsYXNzTmFtZSA9ICdtb2RhbC1iYWNrZHJvcCc7XG4gICAgcmV0dXJuIGJhY2tkcm9wO1xufVxuZXhwb3J0IGRlZmF1bHQgbW9kYWw7XG4iLCJmdW5jdGlvbiBjcmVhdGVCdXR0b24oeyB0eXBlLCBuYW1lLCBjYWxsYmFjaywgY2xhc3NOYW1lLCBldmVudFR5cGUgfSkge1xuICAgIGNvbnN0IGJ1dHRvbiA9IHJlbmRlcih7IHR5cGUsIGNsYXNzTmFtZSwgbmFtZSB9KTtcbiAgICBpZiAoIWNhbGxiYWNrKVxuICAgICAgICByZXR1cm4gYnV0dG9uO1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1dHRvbjtcbn1cbmZ1bmN0aW9uIHJlbmRlcih7IHR5cGUsIGNsYXNzTmFtZSwgbmFtZSB9KSB7XG4gICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYnV0dG9uLnR5cGUgPSB0eXBlID8gdHlwZSA6ICdidXR0b24nO1xuICAgIGJ1dHRvbi5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgYnV0dG9uLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICByZXR1cm4gYnV0dG9uO1xufVxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQnV0dG9uO1xuIiwiaW1wb3J0IHsgY3JlYXRlRHJvcERvd24gfSBmcm9tICcuLi8uLi9jb21wb25lbnQvZHJvcERvd24nO1xuaW1wb3J0IGNyZWF0ZUlucHV0IGZyb20gJy4uLy4uL2NvbXBvbmVudC9pbnB1dCc7XG5pbXBvcnQgY3JlYXRlbGFiZWxXcmFwcGVyIGZyb20gJy4uLy4uL2NvbXBvbmVudC9sYWJlbFdyYXBwZXInO1xuaW1wb3J0IGNyZWF0ZVRleHRBcmVhIGZyb20gJy4uLy4uL2NvbXBvbmVudC90ZXh0QXJlYSc7XG5pbXBvcnQgbW9kYWwgZnJvbSAnLi4vLi4vY29tcG9uZW50L21vZGFsJztcbmltcG9ydCB7IEtPUkVBTl9DQVRFR09SWSwgV0FMS0lOR19USU1FIH0gZnJvbSAnLi4vLi4vY29uc3RhbnQvY29ucyc7XG5pbXBvcnQgY3JlYXRlQnV0dG9uIGZyb20gJy4uLy4uL2NvbXBvbmVudC9idXR0b24nO1xuaW1wb3J0IHsgc2V0IH0gZnJvbSAnLi4vY29udHJvbCc7XG5pbXBvcnQgdG9hc3QgZnJvbSAnLi4vLi4vY29tcG9uZW50L3RvYXN0L3RvYXN0JztcbmNvbnN0IGZvcm1JZHMgPSBbJ2NhdGVnb3J5JywgJ25hbWUnLCAnd2Fsa2luZ1RpbWUnLCAnZGVzY3JpcHRpb24nLCAnbGluayddO1xuZnVuY3Rpb24gY3JlYXRlTmV3UmVzdGF1cmFudE1vZGFsKHJlc3RhdXJhbnRNYW5hZ2VyKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gcmVuZGVyKCk7XG4gICAgY29uc3QgZm9ybSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdmb3JtJyk7XG4gICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgbmV3UmVzdGF1cmFudCA9IGZvcm1JZHMucmVkdWNlKChyZXN0YXVyYW50LCBpZCkgPT4ge1xuICAgICAgICAgICAgcmVzdGF1cmFudFtpZF0gPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lkfWApLnZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3RhdXJhbnQ7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3RhdXJhbnRNYW5hZ2VyLmFkZChuZXdSZXN0YXVyYW50KTtcbiAgICAgICAgICAgIHNldC51cGRhdGVSZXN0YXVyYW50TGlzdChyZXN0YXVyYW50TWFuYWdlci5nZXRSZXN0YXVyYW50cygpKTtcbiAgICAgICAgICAgIG1vZGFsLnJlbW92ZSgnbW9kYWwtLW9wZW4nKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdG9hc3QoZS5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcbiAgICAgICAgLy8gICAncmVzdGF1cmFudHMnLFxuICAgICAgICAvLyAgIEpTT04uc3RyaW5naWZ5KHJlc3RhdXJhbnRNYW5hZ2VyLnNvcnRCeUFzY2VuZGluZ05hbWUoKSlcbiAgICAgICAgLy8gKTtcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGFpbmVyO1xufVxuZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IG1vZGFsLmNyZWF0ZUNvbnRhaW5lcigpO1xuICAgIGNvbnN0IG1vZGFsVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xuICAgIG1vZGFsVGl0bGUuY2xhc3NOYW1lID0gJ21vZGFsLXRpdGxlIHRleHQtdGl0bGUnO1xuICAgIG1vZGFsVGl0bGUudGV4dENvbnRlbnQgPSAn7IOI66Gc7Jq0IOydjOyLneygkCc7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgICBjb25zdCBjYXRlZ29yeVNlbGVjdCA9IGNyZWF0ZURyb3BEb3duKHtcbiAgICAgICAgaWQ6ICdjYXRlZ29yeScsXG4gICAgICAgIG9wdGlvbnM6IE9iamVjdC5rZXlzKEtPUkVBTl9DQVRFR09SWSksXG4gICAgICAgIGNsYXNzTmFtZTogJycsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICBjb3ZlcjogJ+yEoO2Dne2VtCDso7zshLjsmpQnLFxuICAgIH0pO1xuICAgIGNvbnN0IGRpc3RhbmNlU2VsZWN0ID0gY3JlYXRlRHJvcERvd24oe1xuICAgICAgICBpZDogJ3dhbGtpbmdUaW1lJyxcbiAgICAgICAgb3B0aW9uczogV0FMS0lOR19USU1FLFxuICAgICAgICBjbGFzc05hbWU6ICcnLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgY292ZXI6ICfshKDtg53tlbQg7KO87IS47JqUJyxcbiAgICB9KTtcbiAgICBjb25zdCBjYXRlZ29yeVNlbGN0ZXJMYWJlbFdyYXBwZXIgPSBjcmVhdGVsYWJlbFdyYXBwZXIoe1xuICAgICAgICBjbGFzc05hbWU6ICdmb3JtLWl0ZW0gZm9ybS1pdGVtLS1yZXF1aXJlZCcsXG4gICAgICAgIGh0bWxGb3I6ICdjYXRlZ29yeScsXG4gICAgICAgIG5hbWU6ICfsubTthYzqs6DrpqwnLFxuICAgICAgICBpbm5lckVsZW1lbnQ6IGNhdGVnb3J5U2VsZWN0LFxuICAgIH0pO1xuICAgIGNvbnN0IG5hbWVMYWJlbFdyYXBwZXIgPSBjcmVhdGVsYWJlbFdyYXBwZXIoe1xuICAgICAgICBjbGFzc05hbWU6ICdmb3JtLWl0ZW0gZm9ybS1pdGVtLS1yZXF1aXJlZCcsXG4gICAgICAgIGh0bWxGb3I6ICduYW1lJyxcbiAgICAgICAgbmFtZTogJ+ydtOumhCcsXG4gICAgICAgIGlubmVyRWxlbWVudDogY3JlYXRlSW5wdXQoe1xuICAgICAgICAgICAgbmFtZTogJ25hbWUnLFxuICAgICAgICAgICAgaWQ6ICduYW1lJyxcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB9KSxcbiAgICB9KTtcbiAgICBjb25zdCB3YWxraW5nVGltZUxhYmVsV3JhcHBlciA9IGNyZWF0ZWxhYmVsV3JhcHBlcih7XG4gICAgICAgIGNsYXNzTmFtZTogJ2Zvcm0taXRlbSBmb3JtLWl0ZW0tLXJlcXVpcmVkJyxcbiAgICAgICAgaHRtbEZvcjogJ2Rpc3RhbmNlJyxcbiAgICAgICAgbmFtZTogJ+qxsOumrCjrj4Trs7Qg7J2064+ZIOyLnOqwhCknLFxuICAgICAgICBpbm5lckVsZW1lbnQ6IGRpc3RhbmNlU2VsZWN0LFxuICAgIH0pO1xuICAgIGNvbnN0IHRleHRBcmVhTGFiZWxXcmFwcGVyID0gY3JlYXRlbGFiZWxXcmFwcGVyKHtcbiAgICAgICAgY2xhc3NOYW1lOiAnZm9ybS1pdGVtJyxcbiAgICAgICAgaHRtbEZvcjogJ2Rlc2NyaXB0aW9uJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICfrqZTribQg65OxIOy2lOqwgCDsoJXrs7Trpbwg7J6F66Cl7ZW0IOyjvOyEuOyalC4nLFxuICAgICAgICBuYW1lOiAn7ISk66qFJyxcbiAgICAgICAgaW5uZXJFbGVtZW50OiBjcmVhdGVUZXh0QXJlYSh7XG4gICAgICAgICAgICBuYW1lOiAnZGVzY3JpcHRpb24nLFxuICAgICAgICAgICAgaWQ6ICdkZXNjcmlwdGlvbicsXG4gICAgICAgICAgICBjb2xzOiAzMCxcbiAgICAgICAgICAgIHJvd3M6IDUsXG4gICAgICAgIH0pLFxuICAgIH0pO1xuICAgIGNvbnN0IGxpbmtMYWJlbFdyYXBwZXIgPSBjcmVhdGVsYWJlbFdyYXBwZXIoe1xuICAgICAgICBjbGFzc05hbWU6ICdmb3JtLWl0ZW0nLFxuICAgICAgICBodG1sRm9yOiAnbGluaycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAn66ek7J6lIOygleuztOulvCDtmZXsnbjtlaAg7IiYIOyeiOuKlCDrp4Htgazrpbwg7J6F66Cl7ZW0IOyjvOyEuOyalC4nLFxuICAgICAgICBuYW1lOiAn7LC46rOgIOunge2BrCcsXG4gICAgICAgIGlubmVyRWxlbWVudDogY3JlYXRlSW5wdXQoeyBuYW1lOiAnbGluaycsIGlkOiAnbGluaycsIHR5cGU6ICd0ZXh0JyB9KSxcbiAgICB9KTtcbiAgICBjb25zdCBidXR0b25XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgYnV0dG9uV3JhcHBlci5jbGFzc05hbWUgPSAnYnV0dG9uLWNvbnRhaW5lcic7XG4gICAgY29uc3QgY2FuY2VsQnV0dG9uID0gY3JlYXRlQnV0dG9uKHtcbiAgICAgICAgY2xhc3NOYW1lOiAnYnV0dG9uIGJ1dHRvbi0tc2Vjb25kYXJ5IHRleHQtY2FwdGlvbicsXG4gICAgICAgIGV2ZW50VHlwZTogJ2NsaWNrJyxcbiAgICAgICAgbmFtZTogJ+y3qOyGjO2VmOq4sCcsXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiBtb2RhbC5yZW1vdmUoJ21vZGFsLS1vcGVuJyksXG4gICAgfSk7XG4gICAgY29uc3QgYWRkQnV0dG9uID0gY3JlYXRlQnV0dG9uKHtcbiAgICAgICAgY2xhc3NOYW1lOiAnYnV0dG9uIGJ1dHRvbi0tcHJpbWFyeSB0ZXh0LWNhcHRpb24nLFxuICAgICAgICB0eXBlOiAnc3VibWl0JyxcbiAgICAgICAgZXZlbnRUeXBlOiAnc3VibWl0JyxcbiAgICAgICAgbmFtZTogJ+y2lOqwgO2VmOq4sCcsXG4gICAgfSk7XG4gICAgYnV0dG9uV3JhcHBlci5hcHBlbmQoY2FuY2VsQnV0dG9uLCBhZGRCdXR0b24pO1xuICAgIGZvcm0uYXBwZW5kKGNhdGVnb3J5U2VsY3RlckxhYmVsV3JhcHBlciwgbmFtZUxhYmVsV3JhcHBlciwgd2Fsa2luZ1RpbWVMYWJlbFdyYXBwZXIsIHRleHRBcmVhTGFiZWxXcmFwcGVyLCBsaW5rTGFiZWxXcmFwcGVyLCBidXR0b25XcmFwcGVyKTtcbiAgICBjb250YWluZXIuYXBwZW5kKG1vZGFsVGl0bGUsIGZvcm0pO1xuICAgIHJldHVybiBjb250YWluZXI7XG59XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVOZXdSZXN0YXVyYW50TW9kYWw7XG4iLCJpbXBvcnQgeyAkIH0gZnJvbSBcIi4uLy4uL3V0aWxzL3NlbGVjdG9yXCI7XG5mdW5jdGlvbiB0b2FzdChlcnJvck1lc3NhZ2UpIHtcbiAgICBjb25zdCB0b2FzdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRvYXN0RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidG9hc3RcIik7XG4gICAgdG9hc3RFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIHRvYXN0RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIiwgXCJhc3NlcnRpdmVcIik7XG4gICAgJChcImJvZHlcIikuYXBwZW5kQ2hpbGQodG9hc3RFbGVtZW50KTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHRvYXN0RWxlbWVudC5yZW1vdmUoKSwgMjUwMCk7XG59XG5leHBvcnQgZGVmYXVsdCB0b2FzdDtcbiIsImltcG9ydCB7IEFQUF9OQU1FIH0gZnJvbSAnLi4vY29uc3RhbnQvY29ucy5qcyc7XG5pbXBvcnQgeyAkIH0gZnJvbSAnLi4vdXRpbHMvc2VsZWN0b3IuanMnO1xuaW1wb3J0IGNyZWF0ZU5ld1Jlc3RhdXJhbnRNb2RhbCBmcm9tICcuLi93ZWIvbW9kYWwvYWRkUmVzdGF1cmFudE1vZGFsLmpzJztcbmltcG9ydCBtb2RhbCBmcm9tICcuL21vZGFsLmpzJztcbmZ1bmN0aW9uIGNyZWF0ZUhlYWRlcih7IGNsYXNzTmFtZSwgbGVmdCwgcmlnaHQsIHJlc3RhdXJhbnRNYW5hZ2VyIH0pIHtcbiAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoZWFkZXInKTtcbiAgICBoZWFkZXIuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgIGNvbnN0IGxlZnRFbGVtZW50ID0gaXRlbVtsZWZ0XSgpO1xuICAgIGNvbnN0IHJpZ2h0RWxlbWVudCA9IGl0ZW1bcmlnaHRdKHJlc3RhdXJhbnRNYW5hZ2VyKTtcbiAgICBoZWFkZXIuYXBwZW5kKGxlZnRFbGVtZW50LCByaWdodEVsZW1lbnQpO1xuICAgIHJldHVybiBoZWFkZXI7XG59XG4vLyBSRUZBQ1RPUjog7JWxIOydtOumhCDsg4HsiJjroZwg67aE66asXG5jb25zdCBpdGVtID0ge1xuICAgIGxvZ28oKSB7XG4gICAgICAgIGNvbnN0IGgxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDEnKTtcbiAgICAgICAgaDEuY2xhc3NOYW1lID0gJ2duYl9fdGl0bGUgdGV4dC10aXRsZSc7XG4gICAgICAgIGgxLnRleHRDb250ZW50ID0gQVBQX05BTUU7XG4gICAgICAgIHJldHVybiBoMTtcbiAgICB9LFxuICAgIGFkZChyZXN0YXVyYW50TWFuYWdlcikge1xuICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgYnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9ICdnbmJfX2J1dHRvbic7XG4gICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAn7J2M7Iud7KCQIOy2lOqwgCcpO1xuICAgICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgaW1nLnNyYyA9ICcuL2FkZC1idXR0b24ucG5nJztcbiAgICAgICAgaW1nLmFsdCA9ICfsnYzsi53soJAg7LaU6rCAJztcbiAgICAgICAgYnV0dG9uLmFwcGVuZENoaWxkKGltZyk7XG4gICAgICAgIGV2ZW50SGFuZGxlci5hZGQoYnV0dG9uLCByZXN0YXVyYW50TWFuYWdlcik7XG4gICAgICAgIHJldHVybiBidXR0b247XG4gICAgfSxcbn07XG5jb25zdCBldmVudEhhbmRsZXIgPSB7XG4gICAgYWRkKGVsZW1lbnQsIHJlc3RhdXJhbnRNYW5hZ2VyKSB7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXdSZXN0YXVyYW50TW9kYWxFbGVtZW50ID0gY3JlYXRlTmV3UmVzdGF1cmFudE1vZGFsKHJlc3RhdXJhbnRNYW5hZ2VyKTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Jlc3RhdXJhbnRNb2RhbCA9IG1vZGFsLmNyZWF0ZSgnbW9kYWwtLW9wZW4nLCBuZXdSZXN0YXVyYW50TW9kYWxFbGVtZW50KTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKG5ld1Jlc3RhdXJhbnRNb2RhbCk7XG4gICAgICAgIH0pO1xuICAgIH0sXG59O1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlSGVhZGVyO1xuIiwiZXhwb3J0IGNsYXNzIFJlc3RhdXJhbnRNYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3RvcihyZXN0YXVyYW50cyA9IFtdKSB7XG4gICAgICAgIHRoaXMucmVzdGF1cmFudHMgPSBbLi4ucmVzdGF1cmFudHNdO1xuICAgICAgICB0aGlzLmZpbHRlclJlc3RhdXJhbnRzID0gWy4uLnJlc3RhdXJhbnRzXTtcbiAgICB9XG4gICAgYWRkKG5ld1Jlc3RhdXJhbnQpIHtcbiAgICAgICAgY29uc3QgaGFzU2FtZU5hbWUgPSB0aGlzLnJlc3RhdXJhbnRzLnNvbWUoKHsgbmFtZSB9KSA9PiBuYW1lID09PSBuZXdSZXN0YXVyYW50Lm5hbWUpO1xuICAgICAgICBpZiAoaGFzU2FtZU5hbWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcign7J2066+4IOyeiOuKlCDsi53ri7nsnYAg64uk7IucIOy2lOqwgO2VoCDsiJgg7JeG7Ja07JqULicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzdGF1cmFudHMucHVzaChuZXdSZXN0YXVyYW50KTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Jlc3RhdXJhbnRzJywgSlNPTi5zdHJpbmdpZnkodGhpcy5yZXN0YXVyYW50cykpO1xuICAgIH1cbiAgICBnZXRSZXN0YXVyYW50cygpIHtcbiAgICAgICAgcmV0dXJuIFsuLi50aGlzLnJlc3RhdXJhbnRzXTtcbiAgICB9XG4gICAgZ2V0ZmlsdGVyUmVzdGF1cmFudHMoKSB7XG4gICAgICAgIHJldHVybiBbLi4udGhpcy5maWx0ZXJSZXN0YXVyYW50c107XG4gICAgfVxuICAgIHNvcnRCeUFzY2VuZGluZ05hbWUoKSB7XG4gICAgICAgIGNvbnN0IHNvcnRpbmdSZWF0YXVyYW50cyA9IHRoaXMuZmlsdGVyUmVzdGF1cmFudHMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgaWYgKGEubmFtZSA8IGIubmFtZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICBpZiAoYS5uYW1lID4gYi5uYW1lKVxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlc3RhdXJhbnRzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIGlmIChhLm5hbWUgPCBiLm5hbWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgaWYgKGEubmFtZSA+IGIubmFtZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFsuLi5zb3J0aW5nUmVhdGF1cmFudHNdO1xuICAgIH1cbiAgICBzb3J0QnlBc2NlbmRpbmdXYWxraW5nVGltZSgpIHtcbiAgICAgICAgY29uc3Qgc29ydGluZ1JlYXRhdXJhbnRzID0gdGhpcy5maWx0ZXJSZXN0YXVyYW50cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhVGltZSA9IE51bWJlcihhLndhbGtpbmdUaW1lKTtcbiAgICAgICAgICAgIGNvbnN0IGJUaW1lID0gTnVtYmVyKGIud2Fsa2luZ1RpbWUpO1xuICAgICAgICAgICAgaWYgKGFUaW1lIDwgYlRpbWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgaWYgKGFUaW1lID4gYlRpbWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICBpZiAoYS5uYW1lIDwgYi5uYW1lKVxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIGlmIChhLm5hbWUgPiBiLm5hbWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVzdGF1cmFudHMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgY29uc3QgYVRpbWUgPSBOdW1iZXIoYS53YWxraW5nVGltZSk7XG4gICAgICAgICAgICBjb25zdCBiVGltZSA9IE51bWJlcihiLndhbGtpbmdUaW1lKTtcbiAgICAgICAgICAgIGlmIChhVGltZSA8IGJUaW1lKVxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIGlmIChhVGltZSA+IGJUaW1lKVxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgaWYgKGEubmFtZSA8IGIubmFtZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICBpZiAoYS5uYW1lID4gYi5uYW1lKVxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc29ydGluZ1JlYXRhdXJhbnRzO1xuICAgIH1cbiAgICB1ZGF0ZUZpbHRlclJlc3RhdXJhbnRzKCkge1xuICAgICAgICB0aGlzLmZpbHRlclJlc3RhdXJhbnRzID0gWy4uLnRoaXMucmVzdGF1cmFudHNdO1xuICAgIH1cbiAgICBmaWx0ZXJlZFJlc3RhdXJhbnRzKGNhdGVnb3J5KSB7XG4gICAgICAgIHRoaXMuZmlsdGVyUmVzdGF1cmFudHMgPSBbLi4udGhpcy5yZXN0YXVyYW50c10uZmlsdGVyKChyZXN0YXVyYW50KSA9PiByZXN0YXVyYW50LmNhdGVnb3J5ID09PSBjYXRlZ29yeSk7XG4gICAgICAgIHJldHVybiBbLi4udGhpcy5maWx0ZXJSZXN0YXVyYW50c107XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlRHJvcERvd24gfSBmcm9tICcuLi9jb21wb25lbnQvZHJvcERvd24nO1xuaW1wb3J0IGNyZWF0ZUhlYWRlciBmcm9tICcuLi9jb21wb25lbnQvaGVhZGVyJztcbmltcG9ydCBjcmVhdGVSZXN0YXVyYW50Q2FyZCBmcm9tICcuLi9jb21wb25lbnQvcmVzdGF1cmFudENhcmQnO1xuaW1wb3J0IHsgS09SRUFOX0NBVEVHT1JZLCBjYXRlZ29yeUZpbHRlckxpc3QsIHNvcnRpbmdGaWx0ZXJMc2l0LCB9IGZyb20gJy4uL2NvbnN0YW50L2NvbnMnO1xuaW1wb3J0IHsgUmVzdGF1cmFudE1hbmFnZXIgfSBmcm9tICcuLi9kb21haW4vUmVzdGF1cmFudE1hbmFnZXInO1xuZXhwb3J0IGNvbnN0IHNldCA9IHtcbiAgICBzdGFydCgpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Jlc3RhdXJhbnRzJykpIHx8IFtdO1xuICAgICAgICBjb25zdCByZXN0YXVyYW50TWFuYWdlciA9IG5ldyBSZXN0YXVyYW50TWFuYWdlcihkYXRhKTtcbiAgICAgICAgdGhpcy5zZXRNYWluUGFnZShyZXN0YXVyYW50TWFuYWdlcik7XG4gICAgfSxcbiAgICBzZXRNYWluUGFnZShyZXN0YXVyYW50TWFuYWdlcikge1xuICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJiZWdpbicsIGNyZWF0ZUhlYWRlcih7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICdnbmInLFxuICAgICAgICAgICAgbGVmdDogJ2xvZ28nLFxuICAgICAgICAgICAgcmlnaHQ6ICdhZGQnLFxuICAgICAgICAgICAgcmVzdGF1cmFudE1hbmFnZXIsXG4gICAgICAgIH0pKTtcbiAgICAgICAgY29uc3QgcmVzdGF1cmFudEZpbHRlckNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXN0YXVyYW50LWZpbHRlci1jb250YWluZXInKTtcbiAgICAgICAgcmVzdGF1cmFudEZpbHRlckNvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVEcm9wRG93bih7XG4gICAgICAgICAgICBuYW1lOiAnY2F0ZWdvdHknLFxuICAgICAgICAgICAgaWQ6ICdjYXRlZ29yeS1maWx0ZXInLFxuICAgICAgICAgICAgb3B0aW9uczogY2F0ZWdvcnlGaWx0ZXJMaXN0LFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAncmVzdGF1cmFudC1maWx0ZXInLFxuICAgICAgICAgICAgY2FsbGJhY2s6IChjYXRlZ29yeSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yeSA9PT0gJ+yghOyytCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdGF1cmFudE1hbmFnZXIudWRhdGVGaWx0ZXJSZXN0YXVyYW50cygpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVSZXN0YXVyYW50TGlzdChyZXN0YXVyYW50TWFuYWdlci5nZXRSZXN0YXVyYW50cygpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVSZXN0YXVyYW50TGlzdChyZXN0YXVyYW50TWFuYWdlci5maWx0ZXJlZFJlc3RhdXJhbnRzKGNhdGVnb3J5KSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJlc3RhdXJhbnRGaWx0ZXJDb250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlRHJvcERvd24oe1xuICAgICAgICAgICAgbmFtZTogJ3NvcnRpbmcnLFxuICAgICAgICAgICAgaWQ6ICdzb3J0aW5nLWZpbHRlcicsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdyZXN0YXVyYW50LWZpbHRlcicsXG4gICAgICAgICAgICBvcHRpb25zOiBzb3J0aW5nRmlsdGVyTHNpdCxcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoY2F0ZWdvcnkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2F0ZWdvcnkgPT09ICfsnbTrpoTsiJwnKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVJlc3RhdXJhbnRMaXN0KHJlc3RhdXJhbnRNYW5hZ2VyLnNvcnRCeUFzY2VuZGluZ05hbWUoKSk7XG4gICAgICAgICAgICAgICAgaWYgKGNhdGVnb3J5ID09PSAn6rGw66as7IicJylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVSZXN0YXVyYW50TGlzdChyZXN0YXVyYW50TWFuYWdlci5zb3J0QnlBc2NlbmRpbmdXYWxraW5nVGltZSgpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgdGhpcy51cGRhdGVSZXN0YXVyYW50TGlzdChyZXN0YXVyYW50TWFuYWdlci5zb3J0QnlBc2NlbmRpbmdOYW1lKCkpO1xuICAgIH0sXG4gICAgdXBkYXRlUmVzdGF1cmFudExpc3QocmVzdGF1cmFudHMpIHtcbiAgICAgICAgY29uc3QgcmVzdGF1cmFudExpc3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVzdGF1cmFudC1saXN0LWNvbnRhaW5lcicpO1xuICAgICAgICByZXN0YXVyYW50TGlzdENvbnRhaW5lci5yZXBsYWNlQ2hpbGRyZW4oKTtcbiAgICAgICAgY29uc3QgcmVzdGF1cmFudExpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgICAgICByZXN0YXVyYW50TGlzdC5jbGFzc05hbWUgPSAncmVzdGF1cmFudC1saXN0JztcbiAgICAgICAgcmVzdGF1cmFudHMubWFwKChyZXN0YXVyYW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsaXN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgICAgICBsaXN0SXRlbS5jbGFzc05hbWUgPSAncmVzdGF1cmFudCc7XG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yeURpdiA9IGNyZWF0ZVJlc3RhdXJhbnRDYXJkKHJlc3RhdXJhbnQpO1xuICAgICAgICAgICAgbGlzdEl0ZW0uYXBwZW5kKGNhdGVnb3J5RGl2KTtcbiAgICAgICAgICAgIHJlc3RhdXJhbnRMaXN0LmFwcGVuZChsaXN0SXRlbSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXN0YXVyYW50TGlzdENvbnRhaW5lci5hcHBlbmRDaGlsZChyZXN0YXVyYW50TGlzdCk7XG4gICAgfSxcbn07XG4iLCJpbXBvcnQgeyBLT1JFQU5fQ0FURUdPUlkgfSBmcm9tICcuLi9jb25zdGFudC9jb25zJztcbmZ1bmN0aW9uIGNyZWF0ZVJlc3RhdXJhbnRDYXJkKHJlc3RhdXJhbnQpIHtcbiAgICBjb25zb2xlLmxvZyhyZXN0YXVyYW50KTtcbiAgICBjb25zdCByZXN0YXVyYW50Q2FyZCA9IHJlbmRlcihyZXN0YXVyYW50KTtcbiAgICByZXR1cm4gcmVzdGF1cmFudENhcmQ7XG59XG5mdW5jdGlvbiByZW5kZXIoeyBjYXRlZ29yeSwgbmFtZSwgd2Fsa2luZ1RpbWUsIGRlc2NyaXB0aW9uID0gJycgfSkge1xuICAgIGNvbnN0IGNhdGVnb3J5RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2F0ZWdvcnlEaXYuY2xhc3NOYW1lID0gJ3Jlc3RhdXJhbnRfX2NhdGVnb3J5JztcbiAgICBjYXRlZ29yeURpdi5hcHBlbmQoY3JlYXRlQ2F0ZWdvcnlJbWFnZShjYXRlZ29yeSkpO1xuICAgIGNvbnN0IGZyYWdtZW50ID0gbmV3IERvY3VtZW50RnJhZ21lbnQoKTtcbiAgICBmcmFnbWVudC5hcHBlbmQoY2F0ZWdvcnlEaXYsIGNyZWF0ZUluZm9EaXYoeyBuYW1lLCB3YWxraW5nVGltZSwgZGVzY3JpcHRpb24gfSkpO1xuICAgIHJldHVybiBmcmFnbWVudDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUluZm9EaXYoeyBuYW1lLCB3YWxraW5nVGltZSwgZGVzY3JpcHRpb24gPSAnJyB9KSB7XG4gICAgY29uc3QgaW5mb0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGluZm9EaXYuY2xhc3NOYW1lID0gJ3Jlc3RhdXJhbnRfX2luZm8nO1xuICAgIGNvbnN0IHJlc3RhdXJhbnROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICByZXN0YXVyYW50TmFtZS5jbGFzc05hbWUgPSAncmVzdGF1cmFudF9fbmFtZSB0ZXh0LXN1YnRpdGxlJztcbiAgICByZXN0YXVyYW50TmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgY29uc3QgcmVzdGF1cmFudERpc3RhbmNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHJlc3RhdXJhbnREaXN0YW5jZS5jbGFzc05hbWUgPSAncmVzdGF1cmFudF9fZGlzdGFuY2UgdGV4dC1ib2R5JztcbiAgICByZXN0YXVyYW50RGlzdGFuY2UudGV4dENvbnRlbnQgPSBg7Lqg7Y287Iqk67aA7YSwICR7d2Fsa2luZ1RpbWV967aEIOuCtGA7XG4gICAgY29uc3QgcmVzdGF1cmFudERlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIHJlc3RhdXJhbnREZXNjcmlwdGlvbi5jbGFzc05hbWUgPSAncmVzdGF1cmFudF9fZGVzY3JpcHRpb24gdGV4dC1ib2R5JztcbiAgICByZXN0YXVyYW50RGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBkZXNjcmlwdGlvbjtcbiAgICBpbmZvRGl2LmFwcGVuZChyZXN0YXVyYW50TmFtZSk7XG4gICAgaW5mb0Rpdi5hcHBlbmQocmVzdGF1cmFudERpc3RhbmNlKTtcbiAgICBpbmZvRGl2LmFwcGVuZChyZXN0YXVyYW50RGVzY3JpcHRpb24pO1xuICAgIHJldHVybiBpbmZvRGl2O1xufVxuZnVuY3Rpb24gY3JlYXRlQ2F0ZWdvcnlJbWFnZShjYXRlZ29yeSkge1xuICAgIGNvbnN0IGNhdGVnb3J5SW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgY2F0ZWdvcnlJbWcuc3JjID0gYC4vY2F0ZWdvcnktJHtLT1JFQU5fQ0FURUdPUllbY2F0ZWdvcnldfS5wbmdgO1xuICAgIGNhdGVnb3J5SW1nLmFsdCA9IGNhdGVnb3J5O1xuICAgIGNhdGVnb3J5SW1nLmNsYXNzTmFtZSA9ICdjYXRlZ29yeS1pY29uJztcbiAgICByZXR1cm4gY2F0ZWdvcnlJbWc7XG59XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVSZXN0YXVyYW50Q2FyZDtcbiIsIi8vIHN0YXJ0IHtcbi8vICAg7Zek642UIOugjOuNlFxuLy8gICDshoztirgg66CM642UXG4vLyAgIOuqqeuhnSA9IOuhnOy7rOyKpO2GoOumrOyngOyXkOyEnCDrqqnroZ0g67Cb7JWE7Jik6riwXG4vLyAgIOumrOyKpO2KuCDroIzrjZQo66qp66GdKVxuLy8gfVxuaW1wb3J0ICcuL2ltYWdlcy9jYXRlZ29yeS1rb3JlYW4ucG5nJztcbmltcG9ydCAnLi9pbWFnZXMvY2F0ZWdvcnktZXRjLnBuZyc7XG5pbXBvcnQgJy4vaW1hZ2VzL2NhdGVnb3J5LWphcGFuZXNlLnBuZyc7XG5pbXBvcnQgJy4vaW1hZ2VzL2NhdGVnb3J5LWNoaW5lc2UucG5nJztcbmltcG9ydCAnLi9pbWFnZXMvY2F0ZWdvcnktYXNpYW4ucG5nJztcbmltcG9ydCAnLi9pbWFnZXMvY2F0ZWdvcnktd2VzdGVybi5wbmcnO1xuaW1wb3J0ICcuL2ltYWdlcy9hZGQtYnV0dG9uLnBuZyc7XG5pbXBvcnQgeyBzZXQgfSBmcm9tICcuL3dlYi9jb250cm9sJztcbnNldC5zdGFydCgpO1xuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJjcmVhdGVEcm9wRG93biIsImlkIiwiY2FsbGJhY2siLCJvcHRpb25zIiwiY2xhc3NOYW1lIiwicmVxdWlyZWQiLCJjb3ZlciIsImRyb3Bkb3duIiwic2VsZWN0IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwib3B0aW9uIiwidmFsdWUiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwiZm9yRWFjaCIsIm9wdGlvblZhbHVlIiwiY3JlYXRlU2VsZWN0T3B0aW9ucyIsInJlbmRlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZWxlY3RlZE9wdGlvbiIsImciLCJnbG9iYWxUaGlzIiwidGhpcyIsIkZ1bmN0aW9uIiwiZSIsIndpbmRvdyIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJsb2NhdGlvbiIsImN1cnJlbnRTY3JpcHQiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJFcnJvciIsInJlcGxhY2UiLCJwIiwiS09SRUFOX0NBVEVHT1JZIiwiV0FMS0lOR19USU1FIiwiY2F0ZWdvcnlGaWx0ZXJMaXN0Iiwic29ydGluZ0ZpbHRlckxzaXQiLCJuYW1lIiwidHlwZSIsImlucHV0Iiwic2V0QXR0cmlidXRlIiwiaHRtbEZvciIsImRlc2NyaXB0aW9uIiwiaW5uZXJFbGVtZW50Iiwid3JhcHBlciIsImxhYmVsIiwiYXBwZW5kIiwiZGVzY3JpcHRpb25UYWciLCJjb2xzIiwicm93cyIsInRleHRBcmVhIiwiJCIsInRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJjcmVhdGUiLCJjb250ZW50IiwibW9kYWwiLCJiYWNrZHJvcCIsImNyZWF0ZUJhY2tkcm9wIiwiY3JlYXRlQ29udGFpbmVyIiwiY29udGFpbmVyIiwicmVtb3ZlIiwiZXZlbnRUeXBlIiwiYnV0dG9uIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm1JZHMiLCJyZXN0YXVyYW50TWFuYWdlciIsIm1vZGFsVGl0bGUiLCJmb3JtIiwiY2F0ZWdvcnlTZWxlY3QiLCJPYmplY3QiLCJrZXlzIiwiZGlzdGFuY2VTZWxlY3QiLCJjYXRlZ29yeVNlbGN0ZXJMYWJlbFdyYXBwZXIiLCJuYW1lTGFiZWxXcmFwcGVyIiwid2Fsa2luZ1RpbWVMYWJlbFdyYXBwZXIiLCJ0ZXh0QXJlYUxhYmVsV3JhcHBlciIsImxpbmtMYWJlbFdyYXBwZXIiLCJidXR0b25XcmFwcGVyIiwiY2FuY2VsQnV0dG9uIiwiYWRkQnV0dG9uIiwibmV3UmVzdGF1cmFudCIsInJlZHVjZSIsInJlc3RhdXJhbnQiLCJhZGQiLCJzZXQiLCJ1cGRhdGVSZXN0YXVyYW50TGlzdCIsImdldFJlc3RhdXJhbnRzIiwiZXJyb3JNZXNzYWdlIiwidG9hc3RFbGVtZW50IiwiY2xhc3NMaXN0Iiwic2V0VGltZW91dCIsIm1lc3NhZ2UiLCJpdGVtIiwibG9nbyIsImgxIiwiaW1nIiwiYWx0IiwiZXZlbnRIYW5kbGVyIiwiZWxlbWVudCIsIm5ld1Jlc3RhdXJhbnRNb2RhbEVsZW1lbnQiLCJuZXdSZXN0YXVyYW50TW9kYWwiLCJib2R5IiwiUmVzdGF1cmFudE1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsInJlc3RhdXJhbnRzIiwiZmlsdGVyUmVzdGF1cmFudHMiLCJzb21lIiwicHVzaCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0ZmlsdGVyUmVzdGF1cmFudHMiLCJzb3J0QnlBc2NlbmRpbmdOYW1lIiwic29ydGluZ1JlYXRhdXJhbnRzIiwic29ydCIsImEiLCJiIiwic29ydEJ5QXNjZW5kaW5nV2Fsa2luZ1RpbWUiLCJhVGltZSIsIk51bWJlciIsIndhbGtpbmdUaW1lIiwiYlRpbWUiLCJ1ZGF0ZUZpbHRlclJlc3RhdXJhbnRzIiwiZmlsdGVyZWRSZXN0YXVyYW50cyIsImNhdGVnb3J5IiwiZmlsdGVyIiwic3RhcnQiLCJkYXRhIiwicGFyc2UiLCJnZXRJdGVtIiwic2V0TWFpblBhZ2UiLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJsZWZ0IiwicmlnaHQiLCJoZWFkZXIiLCJsZWZ0RWxlbWVudCIsInJpZ2h0RWxlbWVudCIsInJlc3RhdXJhbnRGaWx0ZXJDb250YWluZXIiLCJyZXN0YXVyYW50TGlzdENvbnRhaW5lciIsInJlcGxhY2VDaGlsZHJlbiIsInJlc3RhdXJhbnRMaXN0IiwibWFwIiwibGlzdEl0ZW0iLCJjYXRlZ29yeURpdiIsImNvbnNvbGUiLCJsb2ciLCJjYXRlZ29yeUltZyIsImNyZWF0ZUNhdGVnb3J5SW1hZ2UiLCJmcmFnbWVudCIsIkRvY3VtZW50RnJhZ21lbnQiLCJpbmZvRGl2IiwicmVzdGF1cmFudE5hbWUiLCJyZXN0YXVyYW50RGlzdGFuY2UiLCJyZXN0YXVyYW50RGVzY3JpcHRpb24iLCJjcmVhdGVJbmZvRGl2Il0sInNvdXJjZVJvb3QiOiIifQ==